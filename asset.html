<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kantorku - Manajemen Aset</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="https://cdn.datatables.net/1.13.6/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
    <div class="d-flex">
        <!-- Sidebar (sama dengan dashboard.html) -->
        <!-- ... -->

        <!-- Main Content -->
        <div class="main-content">
            <nav class="navbar navbar-expand-lg navbar-light bg-light">
                <div class="container-fluid">
                    <span class="navbar-brand">Manajemen Aset</span>
                    <div class="d-flex align-items-center">
                        <span id="currentDateTime" class="me-3"></span>
                        <div class="dropdown">
                            <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown">
                                <i class="bi bi-person-circle"></i>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#">Profil</a></li>
                                <li><a class="dropdown-item" href="#" id="logoutBtn2">Logout</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>

            <div class="container-fluid p-4">
                <ul class="nav nav-tabs" id="assetTabs">
                    <li class="nav-item">
                        <a class="nav-link active" data-bs-toggle="tab" href="#assetListTab">Daftar Aset</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" data-bs-toggle="tab" href="#assetBorrowTab">Peminjaman</a>
                    </li>
                </ul>

                <div class="tab-content mt-3">
                    <!-- Tab Daftar Aset -->
                    <div class="tab-pane fade show active" id="assetListTab">
                        <div class="card mb-4">
                            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                                <h5>Daftar Aset/Inventaris</h5>
                                <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#addAssetModal">
                                    <i class="bi bi-plus-circle"></i> Tambah Aset
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table id="assetTable" class="table table-striped" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Kode Aset</th>
                                                <th>Jenis Aset</th>
                                                <th>Nama Aset</th>
                                                <th>Merk/Type</th>
                                                <th>No. Seri</th>
                                                <th>Tahun</th>
                                                <th>Kondisi</th>
                                                <th>Status</th>
                                                <th>Aksi</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- Data akan diisi oleh JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tab Peminjaman Aset -->
                    <div class="tab-pane fade" id="assetBorrowTab">
                        <div class="card mb-4">
                            <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                                <h5>Peminjaman Aset</h5>
                                <button class="btn btn-light btn-sm" data-bs-toggle="modal" data-bs-target="#borrowAssetModal">
                                    <i class="bi bi-plus-circle"></i> Pinjam Aset
                                </button>
                            </div>
                            <div class="card-body">
                                <div class="table-responsive">
                                    <table id="borrowTable" class="table table-striped" style="width:100%">
                                        <thead>
                                            <tr>
                                                <th>Kode Peminjaman</th>
                                                <th>Nama Peminjam</th>
                                                <th>Tanggal Pinjam</th>
                                                <th>Tanggal Kembali</th>
                                                <th>Aset Dipinjam</th>
                                                <th>Tujuan</th>
                                                <th>Status</th>
                                                <th>Aksi</th>
                                            </tr>
                                        </thead>
                                        <tbody>
                                            <!-- Data akan diisi oleh JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Tambah Aset -->
    <div class="modal fade" id="addAssetModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Tambah Aset Baru</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="assetForm">
                        <div class="mb-3">
                            <label for="assetType" class="form-label">Jenis Aset</label>
                            <select class="form-select" id="assetType" required>
                                <option value="">Pilih Jenis</option>
                                <option value="Motor">Motor</option>
                                <option value="Mobil">Mobil</option>
                                <option value="AC">AC</option>
                                <option value="Laptop">Laptop</option>
                                <option value="APAR">APAR</option>
                                <option value="Lainnya">Lainnya</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="assetName" class="form-label">Nama Aset</label>
                            <input type="text" class="form-control" id="assetName" required>
                        </div>
                        <div class="mb-3">
                            <label for="assetBrand" class="form-label">Merk/Type</label>
                            <input type="text" class="form-control" id="assetBrand" required>
                        </div>
                        <div class="mb-3">
                            <label for="assetSerial" class="form-label">No. Seri</label>
                            <input type="text" class="form-control" id="assetSerial" required>
                        </div>
                        <div class="mb-3">
                            <label for="assetYear" class="form-label">Tahun</label>
                            <input type="number" class="form-control" id="assetYear" min="2000" max="2099" required>
                        </div>
                        <div class="mb-3">
                            <label for="assetCondition" class="form-label">Kondisi</label>
                            <select class="form-select" id="assetCondition" required>
                                <option value="Baik">Baik</option>
                                <option value="Rusak Ringan">Rusak Ringan</option>
                                <option value="Rusak Berat">Rusak Berat</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="assetStatus" class="form-label">Status</label>
                            <select class="form-select" id="assetStatus" required>
                                <option value="Tersedia">Tersedia</option>
                                <option value="Dipinjam">Dipinjam</option>
                                <option value="Dalam Perbaikan">Dalam Perbaikan</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" id="submitAssetBtn">Simpan</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Pinjam Aset -->
    <div class="modal fade" id="borrowAssetModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Pinjam Aset</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="borrowForm">
                        <div class="mb-3">
                            <label for="borrowerName" class="form-label">Nama Peminjam</label>
                            <input type="text" class="form-control" id="borrowerName" required>
                        </div>
                        <div class="mb-3">
                            <label for="borrowAsset" class="form-label">Aset yang Dipinjam</label>
                            <select class="form-select" id="borrowAsset" required>
                                <option value="">Pilih Aset</option>
                                <!-- Opsi aset akan diisi oleh JavaScript -->
                            </select>
                        </div>
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <label for="borrowDate" class="form-label">Tanggal Pinjam</label>
                                <input type="date" class="form-control" id="borrowDate" required>
                            </div>
                            <div class="col-md-6">
                                <label for="returnDate" class="form-label">Tanggal Kembali</label>
                                <input type="date" class="form-control" id="returnDate" required>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label for="borrowPurpose" class="form-label">Tujuan Peminjaman</label>
                            <textarea class="form-control" id="borrowPurpose" rows="3" required></textarea>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" id="submitBorrowBtn">Simpan</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Kembalikan Aset -->
    <div class="modal fade" id="returnAssetModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Pengembalian Aset</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="returnForm">
                        <div class="mb-3">
                            <label for="returnCondition" class="form-label">Kondisi Saat Dikembalikan</label>
                            <select class="form-select" id="returnCondition" required>
                                <option value="Baik">Baik</option>
                                <option value="Rusak Ringan">Rusak Ringan</option>
                                <option value="Rusak Berat">Rusak Berat</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label for="returnNotes" class="form-label">Catatan</label>
                            <textarea class="form-control" id="returnNotes" rows="3"></textarea>
                        </div>
                        <div class="mb-3">
                            <label for="returnActualDate" class="form-label">Tanggal Pengembalian Aktual</label>
                            <input type="datetime-local" class="form-control" id="returnActualDate" required>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Batal</button>
                    <button type="button" class="btn btn-primary" id="submitReturnBtn">Simpan</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Berita Acara -->
    <div class="modal fade" id="baModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Berita Acara Peminjaman Aset</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="baContent">
                    <!-- Konten berita acara akan diisi oleh JavaScript -->
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
                    <button type="button" class="btn btn-primary" onclick="printBA()">Cetak</button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.6/js/dataTables.bootstrap5.min.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/asset.js"></script>
</body>
</html>